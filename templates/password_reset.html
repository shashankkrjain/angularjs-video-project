<div class="container w-xxl w-auto-xs" ng-controller="AuthController" ng-init="app.settings.container = false;">
    <a href class="navbar-brand block m-t"><img ng-src="{{ app.info.logo }}" style="height: 40px" alt="{{ app.info.name }}"/></a>

    <div class="m-b-lg">
        <div class="wrapper text-center">
            <h3 translate="auth.PASSWORD_RESET"></h3>
            <strong translate="auth.PASSWORD_CHANGE_MESSAGE"></strong>
        </div>
        <form name="form" class="form-validation">
            <div class="text-danger wrapper text-center" ng-show="response.status == 'fail' && response.errors == undefined">
                <i class="fa fa-warning"></i> {{ response.message }}
            </div>
            <div class="text-danger wrapper" ng-show="response.errors != undefined">
                <div ng-repeat="(key, error)  in response.errors">
                    <i class="fa fa-warning"></i> {{ error[0] }}
                </div>
            </div>
            <div class="alert alert-success" ng-show="response.status == 'success'">
                <i class="fa fa-check"></i> <span translate="auth.PASSWORD_CHANGE_SUCCESS"></span>
            </div>
            <div class="list-group list-group-sm" ng-hide="response.status == 'success'">
                <div class="list-group-item">
                    <input type="password" placeholder="{{ 'auth.NEW_PASSWORD' | translate }}" class="form-control no-border" ng-model="user.password" required>
                </div>
            </div>
            <div class="list-group list-group-sm" ng-hide="response.status == 'success'">
                <div class="list-group-item">
                    <input type="password" placeholder="{{ 'auth.CONFIRM_PASSWORD' | translate }}" class="form-control no-border" ng-model="user.password_confirmation" required>
                </div>
            </div>
            <button type="submit" class="btn btn-lg btn-primary btn-block" ng-click="resetPassword()" ng-disabled='form.$invalid || busy || response.status == "success"'><i class="fa fa-circle-o-notch fa-spin" ng-class="{'hide': !busy}"></i> <span translate="auth.SUBMIT"></span></button>
            <div class="text-center m-t m-b"><a ui-sref="auth" translate="auth.SIGNIN"></a></div>
            <div class="line line-dashed"></div>
        </form>
    </div>
    <div class="text-center" ng-include="getInclude('modules/core/blocks/page_footer.html')"></div>
</div>